!function(){var e=[],t=function(e){return document.getElementById(e)},n=function(e,t){localStorage.setItem(e,JSON.stringify(t))},r=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null};window.a1=function(){var e=t("carritoModal");e.classList.toggle("active"),document.body.style.overflow=e.classList.contains("active")?"hidden":""},window.a2=function(t,r,o,i,a){var c=e.find(function(e){return e.id===t});c?c.cantidad++:e.push({id:t,nombre:r,precio:o,imagen:i,color:a,cantidad:1}),n("byteshop_carrito",e),s(),l(),u(r+" agregado al carrito","exito"),d(t)},window.a3=function(t){var r=e.find(function(e){return e.id===t});r&&(r.cantidad++,n("byteshop_carrito",e),s(),l())},window.a4=function(t){var r=e.find(function(e){return e.id===t});r&&r.cantidad>1&&(r.cantidad--,n("byteshop_carrito",e),s(),l())},window.a5=function(t){var r=e.findIndex(function(e){return e.id===t});if(r>-1){var o=e[r].nombre;e.splice(r,1),n("byteshop_carrito",e),s(),l(),u(o+" eliminado del carrito","info")}};var o=function(){var r=t("cartCount"),o=e.reduce(function(e,t){return e+t.cantidad},0);r&&(r.textContent=o,o>0?(r.style.display="flex",r.classList.add("pulse"),setTimeout(function(){r.classList.remove("pulse")},300)):r.style.display="none")};function s(){o()}function l(){var n=t("carritoItems"),r=t("carritoFooter");if(n){if(0===e.length)return n.innerHTML='<div class="carrito-vacio"><i class="fas fa-shopping-basket"></i><p>Tu carrito está vacío</p><a href="#productos" onclick="a1()">Ver Productos</a></div>',void(r.style.display="none");var o="",i=0;e.forEach(function(e){var t=e.precio*e.cantidad;i+=t,o+='<div class="carrito-item" data-producto-id="'+e.id+'"><img src="'+e.imagen+'" alt="'+e.nombre+'" class="carrito-item-img"><div class="carrito-item-info"><h4 class="carrito-item-nombre">'+e.nombre+'</h4><p class="carrito-item-color">Color: '+e.color+'</p><p class="carrito-item-precio">S/ '+e.precio.toFixed(2)+'</p></div><div class="carrito-item-controles"><div class="cantidad-controles"><button class="btn-cantidad" onclick="a4('+e.id+')"><i class="fas fa-minus"></i></button><span class="cantidad-valor">'+e.cantidad+'</span><button class="btn-cantidad" onclick="a3('+e.id+')"><i class="fas fa-plus"></i></button></div><button class="btn-eliminar" onclick="a5('+e.id+')"><i class="fas fa-trash"></i></button></div></div>'}),n.innerHTML=o,t("carritoTotal").textContent="S/ "+i.toFixed(2),r.style.display="block"}}function u(e,n){var r={exito:"check-circle",error:"exclamation-circle",info:"info-circle"},o=document.createElement("div");o.id="notificacion-"+Date.now(),o.className="notificacion "+n,o.innerHTML='<i class="fas fa-'+r[n]+'"></i> '+e,document.body.appendChild(o),setTimeout(function(){o.remove()},3e3)}function d(e){var n=document.querySelector('[data-producto-id="'+e+'"] .btn-comprar');if(n){var r=n.innerHTML;n.innerHTML='<i class="fas fa-check"></i> Agregado',n.style.background="linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",setTimeout(function(){n.innerHTML=r,n.style.background=""},1500)}}function c(){var e=document.querySelector(".navbar"),n=t("navbarToggle"),r=document.querySelector(".navbar-menu");window.addEventListener("scroll",function(){window.scrollY>50?e.classList.add("scrolled"):e.classList.remove("scrolled")}),n&&r&&(n.addEventListener("click",function(){r.classList.toggle("active");var e=this.querySelector("i");r.classList.contains("active")?(e.classList.remove("fa-bars"),e.classList.add("fa-times")):(e.classList.remove("fa-times"),e.classList.add("fa-bars"))}),document.querySelectorAll(".navbar-menu a").forEach(function(e){e.addEventListener("click",function(){r.classList.remove("active");var e=n.querySelector("i");e&&(e.classList.remove("fa-times"),e.classList.add("fa-bars"))})}))}function f(){var e={threshold:.15,rootMargin:"0px 0px -50px 0px"},t=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("animate"),t.unobserve(e.target))})},e);document.querySelectorAll(".scroll-animate").forEach(function(e){t.observe(e)})}function a(){var e=t("contactForm");e&&e.addEventListener("submit",function(t){t.preventDefault(),t.stopPropagation();var n=e.querySelector(".btn-enviar"),r=n.innerHTML;n.disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin"></i> Enviando...';var o=new FormData(e);return fetch(e.action,{method:"POST",body:o,mode:"no-cors"}).then(function(){n.disabled=!1,n.innerHTML=r,c8(),e.reset()}).catch(function(){n.disabled=!1,n.innerHTML=r,c8(),e.reset()}),!1})}window.b8=function(){if(0===e.length)return void u("Tu carrito está vacío","error");var t="Hola, quiero realizar un pedido:%0A%0A",n=0;e.forEach(function(e){var r=e.precio*e.cantidad;n+=r,t+="*Producto:* "+e.nombre+" x"+e.cantidad+"%0A*Color:* "+e.color+"%0A*Precio unitario:* S/ "+e.precio.toFixed(2)+"%0A*Subtotal:* S/ "+r.toFixed(2)+"%0A%0A"}),t+="%0A%0A*TOTAL:* S/ "+n.toFixed(2),window.open("https://wa.me/51943478601?text="+t,"_blank")},window.c8=function(){var e=t("modalGracias");e&&(e.style.display="flex",document.body.style.overflow="hidden")},window.c9=function(){var e=t("modalGracias");e&&(e.style.display="none",document.body.style.overflow="")},document.addEventListener("click",function(e){var n=t("carritoModal");n&&n.classList.contains("active")&&e.target===n&&a1();var r=t("modalGracias");r&&e.target===r&&c9()}),document.addEventListener("keydown",function(e){if("Escape"===e.key){c9();var n=t("carritoModal");n&&n.classList.contains("active")&&a1()}}),window.d7=function(){html2canvas(t("carritoContenido")).then(function(e){var t=document.createElement("a");t.download="mi-carrito-byteshop.png",t.href=e.toDataURL(),t.click()})},document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href");if("#"!==t){var n=document.querySelector(t);if(n){var r=n.offsetTop-80;window.scrollTo({top:r,behavior:"smooth"})}}})}),document.addEventListener("contextmenu",function(e){e.preventDefault()}),document.addEventListener("keydown",function(e){(e.ctrlKey&&83===e.keyCode||e.ctrlKey&&85===e.keyCode||e.ctrlKey&&e.shiftKey&&73===e.keyCode||123===e.keyCode)&&e.preventDefault()}),function(){var e=document.createElement("style");e.textContent="@keyframes slideInRight{from{transform:translateX(400px);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slideOutRight{from{transform:translateX(0);opacity:1}to{transform:translateX(400px);opacity:0}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}",document.head.appendChild(e)}(),document.addEventListener("DOMContentLoaded",function(){var t=r("byteshop_carrito");t&&(e=t,s(),l()),f(),c(),a()})}();